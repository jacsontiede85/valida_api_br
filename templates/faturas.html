<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Inter%3Awght%40400%3B500%3B700%3B900&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900"
    />

    <title>Valida - Faturas</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827;
            color: #E5E7EB;
        }
        .sidebar {
            background-color: #1F2937;
        }
        .header {
            background-color: #1F2937;
            border-bottom: 1px solid #374151;
        }
        .active-link {
            background-color: #374151;
            color: white;
            border-radius: 0.375rem;
        }
        .inactive-link {
            color: #9CA3AF;
        }
    </style>
    <script src="/static/js/faturas.js"></script>
  </head>
  <body>
    <div class="flex h-screen bg-gray-900">
      <!-- Sidebar -->
      <aside class="sidebar w-64 p-4 flex flex-col justify-between">
        <div>
          <div class="flex items-center mb-8">
            <img alt="Valida Logo" class="h-8 mr-2" src="https://lh3.googleusercontent.com/aida-public/AB6AXuCPiTytodUSa_qp8ErIXjl0HYcDeCG9qNnFRFMu2Cz3a70lhzaWNupQM787LTBKoya6Hwg62W3qRnPmvQQzXeAQaXuWZfXcb4SrOdfms8pIuqpb7uzakD8yVUxkrr3LuKCN9QMPc_uN5RLSQORm2FFOEGk0_wxLiUFXS6w-BH5OHDr1upOSICkK0moQtHR9wUmj7FaVGYQdnp6mCZYd_L9_vpWQgHr7dMsEkV7IFNCExMBYr8IQYoZJ4n1duMfJvd0II_MlpFC78m8"/>
            <span class="text-xl font-bold">Valida</span>
          </div>
          <nav class="space-y-2">
            <div class="text-xs text-gray-500 uppercase font-bold mb-2">Geral</div>
            <a href="/dashboard" class="flex items-center p-2 inactive-link hover:bg-gray-700 rounded-md">
              <span class="material-icons mr-3">dashboard</span> Visão Geral
            </a>
            <a href="/consultas" class="flex items-center p-2 inactive-link hover:bg-gray-700 rounded-md">
              <span class="material-icons mr-3">search</span> Consultas
            </a>
            <div class="pt-4 text-xs text-gray-500 uppercase font-bold mb-2">Integrações</div>
            <a href="/history" class="flex items-center p-2 inactive-link hover:bg-gray-700 rounded-md">
              <span class="material-icons mr-3">history</span> Histórico
            </a>
            <a href="/api-keys" class="flex items-center p-2 inactive-link hover:bg-gray-700 rounded-md">
              <span class="material-icons mr-3">key</span> Chave de API
            </a>
            <div class="pt-4 text-xs text-gray-500 uppercase font-bold mb-2">Administração</div>
            <a href="/assinatura" class="flex items-center p-2 inactive-link hover:bg-gray-700 rounded-md">
              <span class="material-icons mr-3">subscriptions</span> Assinaturas
            </a>
            <a href="/faturas" class="flex items-center p-2 active-link">
              <span class="material-icons mr-3">receipt_long</span> Faturamento
            </a>
            <a href="/perfil" class="flex items-center p-2 inactive-link hover:bg-gray-700 rounded-md">
              <span class="material-icons mr-3">person</span> Perfil
            </a>
          </nav>
        </div>
      </aside>

      <!-- Main Content -->
      <div class="flex-1 flex flex-col overflow-hidden">
        <!-- Header -->
        <div class="header px-6 py-4">
          <div class="flex items-center justify-between">
            <div>
              <h1 class="text-2xl font-bold text-white">Faturas</h1>
              <p class="text-gray-400 mt-1">Visualize e gerencie suas faturas</p>
            </div>
          </div>
        </div>

        <!-- Content -->
        <div class="flex-1 overflow-y-auto p-6">
          <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
            <div class="flex flex-wrap justify-between gap-3 p-4">
              <div class="flex min-w-72 flex-col gap-3">
                <p class="text-white tracking-light text-[32px] font-bold leading-tight">Faturas e Créditos</p>
                <p class="text-[#92adc9] text-sm font-normal leading-normal">Visualize faturas, renovações automáticas e consumo de créditos.</p>
              </div>
              <div class="flex gap-2">
                <button class="btn btn-outline" data-refresh-invoices>
                  <span class="material-icons text-sm mr-1">refresh</span>
                  Atualizar
                </button>
                <button class="btn btn-primary" data-export-invoices>
                  <span class="material-icons text-sm mr-1">download</span>
                  Exportar
                </button>
              </div>
            </div>
            
            <!-- Resumo de Créditos -->
            <div class="px-4 pb-4">
              <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <div class="bg-[#111a22] border border-[#324d67] rounded-lg p-4">
                  <div class="flex items-center justify-between">
                    <div>
                      <p class="text-[#92adc9] text-sm">Créditos Disponíveis</p>
                      <p class="text-white text-xl font-bold" data-summary-available>R$ --</p>
                    </div>
                    <span class="material-icons text-green-400">account_balance_wallet</span>
                  </div>
                </div>
                <div class="bg-[#111a22] border border-[#324d67] rounded-lg p-4">
                  <div class="flex items-center justify-between">
                    <div>
                      <p class="text-[#92adc9] text-sm">Total Comprados</p>
                      <p class="text-white text-xl font-bold" data-summary-purchased>R$ --</p>
                    </div>
                    <span class="material-icons text-blue-400">add_circle</span>
                  </div>
                </div>
                <div class="bg-[#111a22] border border-[#324d67] rounded-lg p-4">
                  <div class="flex items-center justify-between">
                    <div>
                      <p class="text-[#92adc9] text-sm">Já Utilizados</p>
                      <p class="text-white text-xl font-bold" data-summary-used>R$ --</p>
                    </div>
                    <span class="material-icons text-red-400">remove_circle</span>
                  </div>
                </div>
                <div class="bg-[#111a22] border border-[#324d67] rounded-lg p-4">
                  <div class="flex items-center justify-between">
                    <div>
                      <p class="text-[#92adc9] text-sm">Renovações Autom.</p>
                      <p class="text-white text-xl font-bold" data-summary-renewals>0</p>
                    </div>
                    <span class="material-icons text-purple-400">autorenew</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Filtros -->
            <h3 class="text-white text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">Filtros</h3>
            <div class="flex flex-wrap gap-4 px-4 py-3">
              <!-- Período rápido -->
              <div class="flex gap-2">
                <button class="btn btn-sm" data-period-btn="this-month">Este Mês</button>
                <button class="btn btn-sm" data-period-btn="last-month">Mês Passado</button>
                <button class="btn btn-sm" data-period-btn="last-3-months">3 Meses</button>
                <button class="btn btn-sm" data-period-btn="last-6-months">6 Meses</button>
                <button class="btn btn-sm" data-period-btn="this-year">Este Ano</button>
              </div>
              
              <!-- Filtros de data -->
              <div class="flex gap-4">
                <label class="flex flex-col">
                  <span class="text-white text-sm font-medium pb-2">Data Inicial</span>
                  <input type="date" data-filter-date-from class="form-input" />
                </label>
                <label class="flex flex-col">
                  <span class="text-white text-sm font-medium pb-2">Data Final</span>
                  <input type="date" data-filter-date-to class="form-input" />
                </label>
              </div>
              
              <!-- Filtros adicionais -->
              <div class="flex gap-4">
                <label class="flex flex-col">
                  <span class="text-white text-sm font-medium pb-2">Tipo</span>
                  <select data-filter-type class="form-input">
                    <option value="all">Todos os tipos</option>
                    <option value="subscription">Assinatura</option>
                    <option value="auto_renewal">Renovação Automática</option>
                    <option value="credit_purchase">Compra de Créditos</option>
                  </select>
                </label>
                <label class="flex flex-col">
                  <span class="text-white text-sm font-medium pb-2">Status</span>
                  <select data-filter-status class="form-input">
                    <option value="all">Todos</option>
                    <option value="paid">Pago</option>
                    <option value="pending">Pendente</option>
                    <option value="overdue">Vencido</option>
                    <option value="cancelled">Cancelado</option>
                  </select>
                </label>
                <label class="flex flex-col">
                  <span class="text-white text-sm font-medium pb-2">Buscar</span>
                  <input type="text" data-filter-search placeholder="Número da fatura..." class="form-input" />
                </label>
              </div>
              
              <button class="btn btn-outline" data-clear-filters>Limpar Filtros</button>
            </div>
            
            <!-- Tabela de Faturas -->
            <h3 class="text-white text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">Histórico de Faturas</h3>
            <div class="px-4 py-3">
              <div class="overflow-hidden rounded-lg border border-[#324d67] bg-[#111a22]">
                <table class="w-full">
                  <thead>
                    <tr class="bg-[#192633]">
                      <th class="px-4 py-3 text-left text-white text-sm font-medium">Data</th>
                      <th class="px-4 py-3 text-left text-white text-sm font-medium">Tipo</th>
                      <th class="px-4 py-3 text-left text-white text-sm font-medium">Valor</th>
                      <th class="px-4 py-3 text-left text-white text-sm font-medium">Créditos</th>
                      <th class="px-4 py-3 text-left text-white text-sm font-medium">Status</th>
                      <th class="px-4 py-3 text-left text-white text-sm font-medium">Vencimento</th>
                      <th class="px-4 py-3 text-left text-white text-sm font-medium">Ações</th>
                    </tr>
                  </thead>
                  <tbody data-invoices-container>
                    <!-- Template de linha de fatura -->
                    <tr class="invoice-template hidden" data-invoice-template>
                      <td class="px-4 py-3 text-sm text-white" data-invoice-date>--</td>
                      <td class="px-4 py-3 text-sm">
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium" data-invoice-type-badge>
                          <span data-invoice-type-text>--</span>
                        </span>
                      </td>
                      <td class="px-4 py-3 text-sm text-white font-medium" data-invoice-amount>--</td>
                      <td class="px-4 py-3 text-sm">
                        <span class="text-green-400" data-invoice-credits>--</span>
                      </td>
                      <td class="px-4 py-3 text-sm">
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium" data-invoice-status-badge>
                          <span data-invoice-status-text>--</span>
                        </span>
                      </td>
                      <td class="px-4 py-3 text-sm text-gray-300" data-invoice-due-date>--</td>
                      <td class="px-4 py-3 text-sm">
                        <div class="flex items-center space-x-2">
                          <button class="text-blue-400 hover:text-blue-300 text-sm" data-view-invoice>
                            <span class="material-icons text-sm">visibility</span>
                          </button>
                          <button class="text-green-400 hover:text-green-300 text-sm" data-download-invoice>
                            <span class="material-icons text-sm">download</span>
                          </button>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              
              <!-- Paginação -->
              <div class="flex justify-between items-center mt-4">
                <div class="text-[#92adc9] text-sm" data-pagination-info>
                  <!-- Será preenchido dinamicamente -->
                </div>
                <div class="flex gap-2">
                  <button class="btn btn-outline btn-sm" data-pagination-prev>Anterior</button>
                  <button class="btn btn-outline btn-sm" data-pagination-next>Próximo</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Scripts -->
    <script src="/static/js/auth-utils.js"></script>
    <script src="/static/js/faturas.js"></script>
  </body>
</html>